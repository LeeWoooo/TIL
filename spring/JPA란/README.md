JPA
===

1. JPA란 -> Java persistence(영속성) API이다. 이게 무슨 말이나면 예를 들어 ram과 같은 경우는 휘발성이기 때문에 파워가 끊기면 데이터는 저장되지 않게 된다. 하지만 영속성이라는 것은 데이터가 영구적으로 저장된다는 것을 의미하는데 JPA란 **자바에 있는 데이터를 영구적으로 저장할 수 있도록 제공하는 API**를 의미한다. (자바의 데이터를 주로 RDBMS에 저장)

    * API란? -> 애플리케이션 프로그래밍 인터페이스를 의미한다. 인터페이스를 통해 프로그래밍을 하고 프로그래밍을 한 것을 가지고 애플리케이션을 만든다. 

<br>

2. JPA는 ORM기술이다 -> ORM이란 Object Relational Mapping이라 하며 간단히 이야기하자면 객체를 DB에 mapping하는 기술이다.

<br>

3. JPA는 기본적인 CRUD를 간략화해준다. -> JPA를 이용하게 되면 이미 구현된  JPA를 상속받아 사용한다. 이미 구현되어 있고 구현되어 있는 것을 가져다 사용하면된다. (JPA를 조금 더 간단하게 사용하기 위해 Spring이 JPA를 한번 감싼것이다->Spring Data JPA)

<br>

4. JPA는 영속성 context를 가지고 있다. -> context란 모든 정보를 가지고 있는 것을 의미한다. context가 어떠한 대상에 붙게 되면 그 대상에 대한 모든 정보를 가지고 있게 되는것을 의미한다. 영속성 context를 가지고있다는 것은  **자바가 DB에 Data를 저장하는 가져오는 모든 것을 알고 있는것을 의미한다.** 자바가 DB에 Data를 저장하기위해 Data를 영속성 context에 넘겨주고 영속성 context는 DB에 던져준다. <br>

    예를 들어 자바가 과일데이터(사과)를 DB에 요청을 한다 요청을 하면 먼저  영속성 context 를 확인하고  영속성 context에 없다면 DB에 요청을 해서 가져오게 된다. 가져온 과일데이터(사과)를 영속성 context가 자바 객체로 바꿔서 자바에게 응답을 해주게 된다. <br>

    만약 자바에서 과일데이터(사과)를 과일데이터(딸기)로 변경을 하게되면 영속성 context에서도 사과에서 딸기로 변경이 되고 영속성 context에서 DB방향으로 update가 일어나게 된다. <br>

    정리하면 자바는 영속성 context를 통해 DB에 저장을 하고 DB의 데이터 또한 영속성 context를 통해 자바 쪽으로 전달이 된다. <BR>

    이 영속성 context를 사용하면 얻을 수 있는 이점은

    1. 1차 캐시 : 영속성 컨텍트에 Map와 같은 객체가 존재가 존재하여 임시로 객체를 저장해준다.

    2. 동일성 보장 : 같은 객체를 반환하게 되면 새로운 객체가 나오는 것이 아니라 동일한 객체가 반환된다.

    3. 변경 감지 : 영속성 상태의 객체는 객체의 데이터가 변동되면 자동으로 update를 해준다. EntityManager에서 flush가 되고 commit가 된다.

<br>

5. JPA는 DB와 OOP의 불일치를 해결하기 위한 방법론을 제공한다. -> **DB는 column의 자료형의로 객체를 설정할 수 없다**. 하지만 ORM을 사용하게 되면 객체를 저장할 수 있다. 즉 **ORM을 통해 객체를 DB에 저장하게 되면 JPA에서 처리하여 해결해준다.**

<br>

6. JPA는 OOP관점에서 모델링을 할 수 있게 해준다.

<br>

7. JPA는 특정 DB등에 국한되지 않게된다. -> JPA의 추상화 객체를 하나 두고 사용을 하게 된다. 즉 추상화객체를 통해 DB에 연결이 되고 그 추상화객체를 구현하는 객체를 바꿔가면서 사용하면 된다.